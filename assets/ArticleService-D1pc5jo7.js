var A=Object.defineProperty;var m=(i,e,t)=>e in i?A(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var g=(i,e,t)=>m(i,typeof e!="symbol"?e+"":e,t);var l=(i=>(i.DRAFT="draft",i.SUBMITTED="submitted",i.UNDER_REVIEW="under_review",i.REVISION_REQUESTED="revision_requested",i.ACCEPTED="accepted",i.REJECTED="rejected",i.PUBLISHED="published",i))(l||{}),w=(i=>(i.RESEARCH="research",i.REVIEW="review",i.CASE_STUDY="case_study",i.COMMENTARY="commentary",i.BOOK_REVIEW="book_review",i))(w||{});const u=class u{constructor(){g(this,"articles",[]);this.initializeArticles()}static getInstance(){return u.instance||(u.instance=new u),u.instance}initializeArticles(){try{const e=localStorage.getItem("newtifi_articles");e?this.articles=JSON.parse(e):this.createSampleArticles()}catch(e){console.error("âŒ Error initializing articles:",e),this.createSampleArticles()}}createSampleArticles(){const e=[{id:"eltifs-compulsory-redemptions",title:"Closed-Ended Luxembourg ELTIFs: Compulsory Redemptions and Compartment Termination & Amalgamation Provisions",abstract:"This article examines the legal and regulatory framework governing compulsory redemptions and compartment terminations in Luxembourg closed-ended ELTIFs. Focusing on the interplay between EU law, Luxembourg product regimes, and CSSF practice, it analyses how these mechanisms enhance capital efficiency, support fund liquidity management, and ensure investor protection.",content:"Full article content here...",authors:[{id:"author-001",name:"Ezechiel Havrenne",email:"ezechiel.havrenne@newtifi.com",institution:"Luxembourg School of Business",isCorresponding:!0}],status:l.PUBLISHED,type:w.RESEARCH,journal:"investment-management",metadata:{keywords:["LUXEMBOURG CLOSED-ENDED ELTIFs","COMPULSORY REDEMPTION","INVESTOR PROTECTION","DISTRIBUTION MECHANISMS","FUND LIQUIDITY MANAGEMENT"],subjectAreas:["Finance","Regulation"],language:"English",pageCount:15,wordCount:5e3,references:[]},files:[],reviews:[],kpis:{views:1250,downloads:89,citations:12,socialShares:45,reviewScore:8.5,publicationTime:30,lastUpdated:new Date},createdAt:new Date("2025-06-28"),updatedAt:new Date("2025-06-28"),publishedAt:new Date("2025-06-28")},{id:"bafin-portfolio-control",title:"Investor Oversight or Undue Influence? Reassessing BaFin's Stance on AIFM Portfolio Control",abstract:"This article critically examines the March 2025 Draft Position Letter issued by BaFin on investor involvement in AIF portfolio decisions. While reaffirming the AIFM's exclusive mandate under the AIFMD, BaFin's strict stance on veto rights, LPAC involvement, and investor oversight diverges from more pragmatic regulatory approaches in other EU jurisdictions.",content:"Full article content here...",authors:[{id:"author-002",name:"Ezechiel Havrenne",email:"ezechiel.havrenne@newtifi.com",institution:"Luxembourg School of Business",isCorresponding:!0}],status:l.PUBLISHED,type:w.RESEARCH,journal:"investment-management",metadata:{keywords:["AIFM DIRECTIVE","REGULATORY DIVERGENCE","AIFM DISCRETION","INVESTOR INFLUENCE","INVESTOR PROTECTION"],subjectAreas:["Finance","Regulation"],language:"English",pageCount:12,wordCount:4200,references:[]},files:[],reviews:[],kpis:{views:2100,downloads:156,citations:23,socialShares:78,reviewScore:9.2,publicationTime:25,lastUpdated:new Date},createdAt:new Date("2025-06-28"),updatedAt:new Date("2025-06-28"),publishedAt:new Date("2025-06-28")},{id:"luxembourg-well-informed-investor",title:"Luxembourg SICARs, SIFs, and RAIFs: A 20-year Perspective on the Well-Informed Investor Notion",abstract:`This article provides a comprehensive analysis of Luxembourg's "Well-Informed Investor" regime as applied to SICARs, SIFs, and RAIFs, tracing its legislative and regulatory evolution over the past two decades. It examines the classification criteria for eligible investors, including institutional, professional, and opt-in categories, and assesses the legal and operational implications of miscategorisation.`,content:"Full article content here...",authors:[{id:"author-003",name:"Ezechiel Havrenne",email:"ezechiel.havrenne@newtifi.com",institution:"Luxembourg School of Business",isCorresponding:!0}],status:l.PUBLISHED,type:w.RESEARCH,journal:"investment-management",metadata:{keywords:["SICAR","SIF","RAIF","WELL-INFORMED INVESTOR","INVESTOR CATEGORISATION","INSTITUTIONAL INVESTORS"],subjectAreas:["Finance","Regulation"],language:"English",pageCount:18,wordCount:6500,references:[]},files:[],reviews:[],kpis:{views:1800,downloads:134,citations:18,socialShares:62,reviewScore:8.8,publicationTime:28,lastUpdated:new Date},createdAt:new Date("2025-06-28"),updatedAt:new Date("2025-06-28"),publishedAt:new Date("2025-06-28")}];this.articles=e,this.saveArticles()}async createArticle(e,t){try{const r={id:`article-${Date.now()}`,title:e.title,abstract:e.abstract,content:e.content,authors:e.authors,status:l.DRAFT,type:e.type,journal:e.journal,metadata:{keywords:e.keywords,subjectAreas:[],language:"English",pageCount:0,wordCount:e.content.length,references:[]},files:e.files,reviews:[],kpis:{views:0,downloads:0,citations:0,socialShares:0,reviewScore:0,publicationTime:0,lastUpdated:new Date},createdAt:new Date,updatedAt:new Date};return this.articles.push(r),this.saveArticles(),r}catch(r){throw console.error("âŒ Error creating article:",r),new Error("Failed to create article")}}async updateArticle(e,t){try{const r=this.articles.findIndex(s=>s.id===e);if(r===-1)throw new Error("Article not found");return this.articles[r]={...this.articles[r],...t,updatedAt:new Date},this.saveArticles(),console.log("âœ… Article updated successfully:",e),this.articles[r]}catch(r){throw console.error("âŒ Error updating article:",r),new Error("Failed to update article")}}async deleteArticle(e){try{console.log("ğŸ—‘ï¸ Deleting article:",e);const t=this.articles.findIndex(r=>r.id===e);if(t===-1)throw new Error("Article not found");this.articles.splice(t,1),this.saveArticles(),console.log("âœ… Article deleted successfully:",e)}catch(t){throw console.error("âŒ Error deleting article:",t),new Error("Failed to delete article")}}async getArticle(e){try{return this.articles.find(r=>r.id===e)||null}catch(t){return console.error("âŒ Error getting article:",t),null}}async getArticles(e){try{let t=[...this.articles];return e&&(e.status&&e.status.length>0&&(t=t.filter(r=>e.status.includes(r.status))),e.type&&e.type.length>0&&(t=t.filter(r=>e.type.includes(r.type))),e.journal&&e.journal.length>0&&(t=t.filter(r=>e.journal.includes(r.journal))),e.author&&(t=t.filter(r=>r.authors.some(s=>s.name.toLowerCase().includes(e.author.toLowerCase())))),e.dateRange&&(t=t.filter(r=>r.createdAt>=e.dateRange.start&&r.createdAt<=e.dateRange.end))),t.sort((r,s)=>s.createdAt.getTime()-r.createdAt.getTime())}catch(t){return console.error("âŒ Error getting articles:",t),[]}}async searchArticles(e){try{let t=await this.getArticles(e.filters);if(e.query){const o=e.query.toLowerCase();t=t.filter(a=>a.title.toLowerCase().includes(o)||a.abstract.toLowerCase().includes(o)||a.authors.some(c=>c.name.toLowerCase().includes(o)))}e.sortBy&&t.sort((o,a)=>{let c,h;switch(e.sortBy){case"title":c=o.title,h=a.title;break;case"createdAt":c=o.createdAt,h=a.createdAt;break;case"publishedAt":c=o.publishedAt||new Date(0),h=a.publishedAt||new Date(0);break;case"status":c=o.status,h=a.status;break;default:return 0}return e.sortOrder==="asc"?c>h?1:-1:c<h?1:-1});const r=t.length,s=e.page||1,n=e.limit||10,d=(s-1)*n,p=d+n;return t=t.slice(d,p),{articles:t,total:r}}catch(t){return console.error("âŒ Error searching articles:",t),{articles:[],total:0}}}async submitArticle(e){try{if(console.log("ğŸ“¤ Submitting article:",e),!await this.getArticle(e))throw new Error("Article not found");const r=await this.updateArticle(e,{status:l.SUBMITTED,submittedAt:new Date});return console.log("âœ… Article submitted successfully:",e),r}catch(t){throw console.error("âŒ Error submitting article:",t),new Error("Failed to submit article")}}async publishArticle(e){try{if(console.log("ğŸ“¢ Publishing article:",e),!await this.getArticle(e))throw new Error("Article not found");const r=await this.updateArticle(e,{status:l.PUBLISHED,publishedAt:new Date});return console.log("âœ… Article published successfully:",e),r}catch(t){throw console.error("âŒ Error publishing article:",t),new Error("Failed to publish article")}}async addReview(e,t,r,s){try{console.log("ğŸ“ Adding review for article:",e);const n=await this.getArticle(e);if(!n)throw new Error("Article not found");const d={id:`review-${Date.now()}`,reviewerId:r,reviewerName:s,score:t.score,comments:t.comments,recommendations:t.recommendations,status:"completed",submittedAt:new Date,deadline:new Date(Date.now()+14*24*60*60*1e3),createdAt:new Date};return n.reviews.push(d),await this.updateArticle(e,{reviews:n.reviews}),console.log("âœ… Review added successfully:",d.id),d}catch(n){throw console.error("âŒ Error adding review:",n),new Error("Failed to add review")}}async updateArticleKPI(e,t){try{const r=await this.getArticle(e);if(!r)throw new Error("Article not found");const s={...r.kpis,...t,lastUpdated:new Date};await this.updateArticle(e,{kpis:s}),console.log("âœ… Article KPI updated:",e)}catch(r){throw console.error("âŒ Error updating article KPI:",r),new Error("Failed to update article KPI")}}saveArticles(){try{localStorage.setItem("newtifi_articles",JSON.stringify(this.articles))}catch(e){console.error("âŒ Error saving articles:",e)}}};g(u,"instance");let E=u;const v=E.getInstance(),f=Object.freeze(Object.defineProperty({__proto__:null,articleService:v},Symbol.toStringTag,{value:"Module"}));export{l as A,v as a,f as b};
//# sourceMappingURL=ArticleService-D1pc5jo7.js.map
