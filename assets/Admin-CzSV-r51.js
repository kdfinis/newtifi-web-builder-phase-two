import{c as F,j as e,S as V,a as I,b as E,P as R,u as z}from"./index-BY1sSkkS.js";import{r as g}from"./vendor-BLVVpz9P.js";import{B,F as G}from"./file-text-CdAr_HeX.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=F("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=F("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=F("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=F("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Z=E("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-4xl-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-2xl-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-4xl underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=g.forwardRef(({className:t,variant:u,size:o,asChild:a=!1,...d},f)=>{const p=a?V:"button";return e.jsx(p,{className:I(Z({variant:u,size:o,className:t})),ref:f,...d})});T.displayName="Button";const D=g.forwardRef(({className:t,type:u,...o},a)=>e.jsx("input",{type:u,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-base file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-base",t),ref:a,...o}));D.displayName="Input";var Y="Label",U=g.forwardRef((t,u)=>e.jsx(R.label,{...t,ref:u,onMouseDown:o=>{var d;o.target.closest("button, input, select, textarea")||((d=t.onMouseDown)==null||d.call(t,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));U.displayName=Y;var $=U;const Q=E("text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),P=g.forwardRef(({className:t,...u},o)=>e.jsx($,{ref:o,className:I(Q(),t),...u}));P.displayName=$.displayName;const L=t=>e.jsx("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:t,marginRight:6}}),ee=({analytics:t,activityLog:u})=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-[#0A0A23] text-white rounded-lg shadow p-4 flex flex-col items-center",children:[L("#00CB6A"),e.jsx("div",{className:"text-2xl font-bold",children:t.totalArticles??0}),e.jsx("div",{className:"text-xs mt-1",children:"Articles Published"})]}),e.jsxs("div",{className:"bg-[#0A0A23] text-white rounded-lg shadow p-4 flex flex-col items-center",children:[L("#FFB800"),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-xs mt-1",children:"Pending Articles"})]}),e.jsxs("div",{className:"bg-[#0A0A23] text-white rounded-lg shadow p-4 flex flex-col items-center",children:[L("#00C2CB"),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-xs mt-1",children:"Scholarship Applications"})]}),e.jsxs("div",{className:"bg-[#0A0A23] text-white rounded-lg shadow p-4 flex flex-col items-center",children:[L("#FF4D4F"),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-xs mt-1",children:"Legal Comments"})]}),e.jsxs("div",{className:"bg-[#0A0A23] text-white rounded-lg shadow p-4 flex flex-col items-center",children:[L("#00CB6A"),e.jsx("div",{className:"text-2xl font-bold",children:t.totalViews??0}),e.jsx("div",{className:"text-xs mt-1",children:"Site Visits"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"font-semibold text-base mb-2",children:"Recent Activity"}),u.length===0?e.jsx("div",{className:"text-gray-400 text-base",children:"No recent activity."}):e.jsx("ul",{className:"space-y-2",children:u.map((o,a)=>e.jsxs("li",{className:"flex items-center text-base",children:[e.jsx("span",{className:"text-gray-400 mr-2",children:o.timestamp}),e.jsx("span",{children:o.description})]},a))})]})]}),te=({articles:t,onRefresh:u})=>{const[o,a]=g.useState("articles"),[d,f]=g.useState(!1),[p,m]=g.useState(!1),[s,x]=g.useState([]),r=async()=>{m(!0);try{const h=await fetch("/api/admin/scan-articles");if(h.ok){const j=await h.json();x(j),u()}}catch(h){console.error("Error scanning articles:",h)}finally{m(!1)}},b=t.filter(h=>h.pdfUrl&&h.filename&&(h.pdfUrl.includes(".pdf")||h.filename.includes(".pdf"))),c=async h=>{const j=h.target.files;if(!(!j||j.length===0)){f(!0);try{const i=new FormData;for(let C=0;C<j.length;C++)i.append("files",j[C]);(await fetch("/api/admin/upload-article",{method:"POST",body:i})).ok?(u(),alert("Articles uploaded successfully")):alert("Upload failed")}catch(i){console.error("Upload error:",i),alert("Upload failed")}finally{f(!1)}}},n=async h=>{if(confirm("Are you sure you want to delete this article? This action cannot be undone."))try{(await fetch(`/api/admin/articles/${h}`,{method:"DELETE"})).ok?(u(),alert("Article deleted successfully")):alert("Failed to delete article")}catch(j){console.error("Delete error:",j),alert("Failed to delete article")}},N=async(h,j)=>{try{(await fetch(`/api/admin/articles/${h}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({featured:!j})})).ok&&u()}catch(i){console.error("Error toggling featured status:",i)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0A0A23]",children:"Article Collating Tool"}),e.jsx("p",{className:"text-base text-gray-600 mt-1",children:"Manage and organize real articles with actual PDF files"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:r,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:p?"Scanning...":"üîç Scan for Articles"})})]}),e.jsx("div",{className:"flex gap-4 border-b mb-4",children:["articles","upload","scan"].map(h=>e.jsx("button",{className:`px-4 py-2 font-semibold border-b-2 ${o===h?"border-[#0A0A23] text-[#0A0A23]":"border-transparent text-gray-500"}`,onClick:()=>a(h),children:h==="articles"?"üìÑ Articles":h==="upload"?"üì§ Upload":"üîç Scan"},h))}),o==="articles"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-base font-bold",children:["Real Articles (",b.length,")"]}),e.jsx("div",{className:"text-base text-gray-500",children:"Only articles with actual PDF files"})]}),b.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No real articles found"}),e.jsx("p",{className:"text-base text-gray-500 mt-1",children:"Use the Scan tab to find articles or Upload tab to add new ones"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-base",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"p-2 text-left",children:"Title"}),e.jsx("th",{className:"p-2 text-left",children:"Author"}),e.jsx("th",{className:"p-2 text-left",children:"Date"}),e.jsx("th",{className:"p-2 text-left",children:"File"}),e.jsx("th",{className:"p-2 text-left",children:"Size"}),e.jsx("th",{className:"p-2 text-left",children:"Status"}),e.jsx("th",{className:"p-2 text-left",children:"Featured"}),e.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:b.map(h=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2 font-serif text-[#0A0A23] max-w-xs truncate",children:h.title||"Untitled"}),e.jsx("td",{className:"p-2",children:h.author||"Unknown"}),e.jsx("td",{className:"p-2",children:h.date||"N/A"}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"PDF"})}),e.jsx("td",{className:"p-2 text-xs text-gray-500",children:h.fileSize||"N/A"}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-700",children:h.status||"published"})}),e.jsx("td",{className:"p-2",children:e.jsx("button",{onClick:()=>N(h.id,h.featured),className:`px-2 py-1 text-xs rounded ${h.featured?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-500"}`,children:h.featured?"‚≠ê Featured":"‚òÜ Not Featured"})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-xs",onClick:()=>window.open(h.pdfUrl,"_blank"),children:"View"}),e.jsx("button",{className:"text-green-600 hover:text-green-800 text-xs",onClick:()=>window.open(h.pdfUrl,"_blank"),children:"Download"}),e.jsx("button",{className:"text-red-600 hover:text-red-800 text-xs",onClick:()=>n(h.id),children:"Delete"})]})})]},h.id))})]})})]}),o==="upload"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-base font-bold mb-4",children:"Upload Articles"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Upload PDF articles to the system"}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf",onChange:c,disabled:d,className:"hidden",id:"article-upload"}),e.jsx("label",{htmlFor:"article-upload",className:`inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-[#0A0A23] hover:bg-[#1a1a40] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0A0A23] cursor-pointer ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"Uploading...":"Select PDF Files"})]})]}),o==="scan"&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-base font-bold mb-4",children:"Scan for Articles"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Scan Results"}),e.jsx("p",{className:"text-base text-blue-700",children:"This will scan the website directories for PDF articles and automatically add them to the system."})]}),e.jsx("button",{onClick:r,disabled:p,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Scanning directories...":"üîç Scan for PDF Articles"}),s.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Found Articles:"}),e.jsx("div",{className:"space-y-2",children:s.map((h,j)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded border",children:[e.jsx("div",{className:"font-medium",children:h.title}),e.jsx("div",{className:"text-base text-gray-500",children:h.filename})]},j))})]})]})]})]})},se=()=>{const[t,u]=g.useState([]),[o,a]=g.useState("all"),[d,f]=g.useState("all"),[p,m]=g.useState("grid"),[s,x]=g.useState(!1),[r,b]=g.useState(null),[c,n]=g.useState(""),N=[{id:"all",name:"All Categories",count:t.length},{id:"RAIF",name:"RAIF Code",count:t.filter(l=>l.category==="RAIF").length},{id:"SICAR",name:"SICAR",count:t.filter(l=>l.category==="SICAR").length},{id:"SIF",name:"SIF",count:t.filter(l=>l.category==="SIF").length},{id:"ELTIF",name:"ELTIF",count:t.filter(l=>l.category==="ELTIF").length},{id:"AIFM",name:"AIFM",count:t.filter(l=>l.category==="AIFM").length},{id:"General",name:"General",count:t.filter(l=>l.category==="General").length}],h=[{id:"all",name:"All Status",count:t.length},{id:"draft",name:"Draft",count:t.filter(l=>l.status==="draft").length},{id:"published",name:"Published",count:t.filter(l=>l.status==="published").length},{id:"review",name:"Under Review",count:t.filter(l=>l.status==="review").length},{id:"archived",name:"Archived",count:t.filter(l=>l.status==="archived").length}],j=t.filter(l=>{const y=o==="all"||l.category===o,v=d==="all"||l.status===d,w=l.title.toLowerCase().includes(c.toLowerCase())||l.content.toLowerCase().includes(c.toLowerCase())||l.tags.some(S=>S.toLowerCase().includes(c.toLowerCase()));return y&&v&&w}),i=l=>{switch(l){case"published":return"bg-green-100 text-green-700";case"draft":return"bg-gray-100 text-gray-700";case"review":return"bg-yellow-100 text-yellow-700";case"archived":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},A=l=>{switch(l){case"RAIF":return"bg-blue-100 text-blue-700";case"SICAR":return"bg-purple-100 text-purple-700";case"SIF":return"bg-indigo-100 text-indigo-700";case"ELTIF":return"bg-teal-100 text-teal-700";case"AIFM":return"bg-orange-100 text-orange-700";case"General":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},C=()=>{x(!0),b(null)},k=l=>{b(l),x(!0)},M=async l=>{try{if(r)(await fetch(`/api/admin/legal-commentary/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok&&u(v=>v.map(w=>w.id===r.id?{...w,...l}:w));else{const y=await fetch("/api/admin/legal-commentary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(y.ok){const v=await y.json();u(w=>[...w,v])}}x(!1),b(null)}catch(y){console.error("Error saving commentary:",y),alert("Failed to save legal commentary")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0A0A23]",children:"Legal Commentary Manager"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(p==="grid"?"list":"grid"),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:p==="grid"?"üìã List":"üî≤ Grid"}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-[#0A0A23] text-white rounded-md hover:bg-[#1a1a40]",children:"+ Add Commentary"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-4",children:e.jsx("input",{type:"text",placeholder:"Search commentaries...",value:c,onChange:l=>n(l.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0A0A23]"})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:N.map(l=>e.jsxs("button",{onClick:()=>a(l.id),className:`px-4 py-2 rounded-full text-base font-medium whitespace-nowrap ${o===l.id?"bg-[#0A0A23] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.name," (",l.count,")"]},l.id))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:h.map(l=>e.jsxs("button",{onClick:()=>f(l.id),className:`px-4 py-2 rounded-full text-base font-medium whitespace-nowrap ${d===l.id?"bg-[#0A0A23] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.name," (",l.count,")"]},l.id))})]}),s&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0A0A23] mb-4",children:r?"Edit Legal Commentary":"Add Legal Commentary"}),e.jsx(le,{commentary:r,onSave:M,onCancel:()=>{x(!1),b(null)}})]}),p==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(l=>e.jsx(ae,{item:l,onEdit:()=>k(l),getStatusColor:i,getCategoryColor:A},l.id))}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-base font-medium text-[#0A0A23]",children:l.title}),e.jsx("div",{className:"text-base text-gray-500 line-clamp-2",children:l.summary})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A(l.category)}`,children:l.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i(l.status)}`,children:l.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-500",children:l.author}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-500",children:l.views}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium",children:[e.jsx("button",{onClick:()=>k(l),className:"text-[#0A0A23] hover:text-[#1a1a40] mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},l.id))})]})}),j.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No legal commentaries found"}),e.jsx("p",{className:"text-base text-gray-500 mt-1",children:"Create your first legal commentary to get started"})]})]})},ae=({item:t,onEdit:u,getStatusColor:o,getCategoryColor:a})=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a(t.category)}`,children:t.category}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(t.status)}`,children:t.status})]}),e.jsx("h3",{className:"font-semibold text-[#0A0A23] mb-2 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-base text-gray-600 mb-3 line-clamp-3",children:t.summary}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsx("span",{children:t.author}),e.jsx("span",{children:t.publishDate})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.tags.slice(0,3).map((d,f)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:d},f)),t.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.tags.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:[t.views," views"]}),e.jsxs("span",{children:[t.downloads," downloads"]})]}),e.jsx("button",{onClick:u,className:"text-base text-[#0A0A23] hover:text-[#1a1a40] font-medium",children:"Edit"})]})]})}),le=({commentary:t,onSave:u,onCancel:o})=>{var p,m,s;const[a,d]=g.useState({title:(t==null?void 0:t.title)||"",content:(t==null?void 0:t.content)||"",summary:(t==null?void 0:t.summary)||"",category:(t==null?void 0:t.category)||"General",status:(t==null?void 0:t.status)||"draft",author:(t==null?void 0:t.author)||"",tags:((p=t==null?void 0:t.tags)==null?void 0:p.join(", "))||"",legalReferences:((m=t==null?void 0:t.legalReferences)==null?void 0:m.join(", "))||"",relatedArticles:((s=t==null?void 0:t.relatedArticles)==null?void 0:s.join(", "))||"",featured:(t==null?void 0:t.featured)||!1}),f=x=>{x.preventDefault(),u({...a,tags:a.tags.split(",").map(r=>r.trim()).filter(r=>r),legalReferences:a.legalReferences.split(",").map(r=>r.trim()).filter(r=>r),relatedArticles:a.relatedArticles.split(",").map(r=>r.trim()).filter(r=>r)})};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Title"}),e.jsx("input",{type:"text",value:a.title,onChange:x=>d({...a,title:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Category"}),e.jsxs("select",{value:a.category,onChange:x=>d({...a,category:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",children:[e.jsx("option",{value:"RAIF",children:"RAIF Code"}),e.jsx("option",{value:"SICAR",children:"SICAR"}),e.jsx("option",{value:"SIF",children:"SIF"}),e.jsx("option",{value:"ELTIF",children:"ELTIF"}),e.jsx("option",{value:"AIFM",children:"AIFM"}),e.jsx("option",{value:"General",children:"General"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Status"}),e.jsxs("select",{value:a.status,onChange:x=>d({...a,status:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"review",children:"Under Review"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Author"}),e.jsx("input",{type:"text",value:a.author,onChange:x=>d({...a,author:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Summary"}),e.jsx("textarea",{value:a.summary,onChange:x=>d({...a,summary:x.target.value}),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"Brief summary of the legal commentary..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Content"}),e.jsx("textarea",{value:a.content,onChange:x=>d({...a,content:x.target.value}),rows:10,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"Detailed legal commentary content...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Tags"}),e.jsx("input",{type:"text",value:a.tags,onChange:x=>d({...a,tags:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"tag1, tag2, tag3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Legal References"}),e.jsx("input",{type:"text",value:a.legalReferences,onChange:x=>d({...a,legalReferences:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"Reference 1, Reference 2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Related Articles"}),e.jsx("input",{type:"text",value:a.relatedArticles,onChange:x=>d({...a,relatedArticles:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"Article ID 1, Article ID 2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:a.featured,onChange:x=>d({...a,featured:x.target.checked}),className:"h-4 w-4 text-[#0A0A23] focus:ring-[#0A0A23] border-gray-300 rounded"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 block text-base text-[#0A0A23]",children:"Featured commentary"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-[#0A0A23] text-white rounded-md hover:bg-[#1a1a40]",children:[t?"Update":"Create"," Commentary"]})]})]})},re=()=>{const[t,u]=g.useState([]),[o,a]=g.useState("all"),[d,f]=g.useState("grid"),[p,m]=g.useState(!1),[s,x]=g.useState(null),r=[{id:"all",name:"All Items",count:t.length},{id:"news",name:"News",count:t.filter(i=>i.type==="news").length},{id:"event",name:"Events",count:t.filter(i=>i.type==="event").length},{id:"update",name:"Updates",count:t.filter(i=>i.type==="update").length},{id:"announcement",name:"Announcements",count:t.filter(i=>i.type==="announcement").length},{id:"draft",name:"Drafts",count:t.filter(i=>i.status==="draft").length},{id:"published",name:"Published",count:t.filter(i=>i.status==="published").length},{id:"scheduled",name:"Scheduled",count:t.filter(i=>i.status==="scheduled").length}],b=t.filter(i=>o==="all"?!0:i.type===o||i.status===o),c=i=>{switch(i){case"published":return"bg-green-100 text-green-700";case"draft":return"bg-gray-100 text-gray-700";case"scheduled":return"bg-blue-100 text-blue-700";case"archived":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},n=i=>{switch(i){case"news":return"üì∞";case"event":return"üìÖ";case"update":return"üîÑ";case"announcement":return"üì¢";default:return"üìÑ"}},N=()=>{m(!0),x(null)},h=i=>{x(i),m(!0)},j=async i=>{try{if(s)(await fetch(`/api/admin/news/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&u(C=>C.map(k=>k.id===s.id?{...k,...i}:k));else{const A=await fetch("/api/admin/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(A.ok){const C=await A.json();u(k=>[...k,C])}}m(!1),x(null)}catch(A){console.error("Error saving news:",A),alert("Failed to save news item")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0A0A23]",children:"News & Events Manager"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(d==="grid"?"list":"grid"),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:d==="grid"?"üìã List":"üî≤ Grid"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-[#0A0A23] text-white rounded-md hover:bg-[#1a1a40]",children:"+ Add News"})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map(i=>e.jsxs("button",{onClick:()=>a(i.id),className:`px-4 py-2 rounded-full text-base font-medium whitespace-nowrap ${o===i.id?"bg-[#0A0A23] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.name," (",i.count,")"]},i.id))}),p&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0A0A23] mb-4",children:s?"Edit News Item":"Add News Item"}),e.jsx(ie,{news:s,onSave:j,onCancel:()=>{m(!1),x(null)}})]}),d==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(i=>e.jsx(ne,{item:i,onEdit:()=>h(i),getStatusColor:c,getTypeIcon:n},i.id))}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Publish Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-base",children:n(i.type)})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-base font-medium text-[#0A0A23]",children:i.title}),e.jsx("div",{className:"text-base text-gray-500",children:i.author})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(i.status)}`,children:i.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-500",children:i.publishDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-500",children:i.views}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium",children:[e.jsx("button",{onClick:()=>h(i),className:"text-[#0A0A23] hover:text-[#1a1a40] mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},i.id))})]})}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No news items found"}),e.jsx("p",{className:"text-base text-gray-500 mt-1",children:"Create your first news item to get started"})]})]})},ne=({item:t,onEdit:u,getStatusColor:o,getTypeIcon:a})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[t.imageUrl&&e.jsx("div",{className:"h-48 bg-gray-200",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-base",children:a(t.type)}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(t.status)}`,children:t.status})]}),e.jsx("h3",{className:"font-semibold text-[#0A0A23] mb-2 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-base text-gray-600 mb-3 line-clamp-3",children:t.content}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsx("span",{children:t.author}),e.jsx("span",{children:t.publishDate})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[t.views," views"]}),e.jsx("button",{onClick:u,className:"text-base text-[#0A0A23] hover:text-[#1a1a40] font-medium",children:"Edit"})]})]})]}),ie=({news:t,onSave:u,onCancel:o})=>{var p;const[a,d]=g.useState({title:(t==null?void 0:t.title)||"",content:(t==null?void 0:t.content)||"",type:(t==null?void 0:t.type)||"news",status:(t==null?void 0:t.status)||"draft",publishDate:(t==null?void 0:t.publishDate)||"",author:(t==null?void 0:t.author)||"",featured:(t==null?void 0:t.featured)||!1,tags:((p=t==null?void 0:t.tags)==null?void 0:p.join(", "))||"",imageUrl:(t==null?void 0:t.imageUrl)||"",externalLink:(t==null?void 0:t.externalLink)||""}),f=m=>{m.preventDefault(),u({...a,tags:a.tags.split(",").map(s=>s.trim()).filter(s=>s)})};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Title"}),e.jsx("input",{type:"text",value:a.title,onChange:m=>d({...a,title:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Type"}),e.jsxs("select",{value:a.type,onChange:m=>d({...a,type:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",children:[e.jsx("option",{value:"news",children:"News"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"announcement",children:"Announcement"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Status"}),e.jsxs("select",{value:a.status,onChange:m=>d({...a,status:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Publish Date"}),e.jsx("input",{type:"datetime-local",value:a.publishDate,onChange:m=>d({...a,publishDate:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Author"}),e.jsx("input",{type:"text",value:a.author,onChange:m=>d({...a,author:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Image URL"}),e.jsx("input",{type:"url",value:a.imageUrl,onChange:m=>d({...a,imageUrl:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"https://..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Content"}),e.jsx("textarea",{value:a.content,onChange:m=>d({...a,content:m.target.value}),rows:6,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"Tags"}),e.jsx("input",{type:"text",value:a.tags,onChange:m=>d({...a,tags:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"tag1, tag2, tag3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-1",children:"External Link"}),e.jsx("input",{type:"url",value:a.externalLink,onChange:m=>d({...a,externalLink:m.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23]",placeholder:"https://..."})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:a.featured,onChange:m=>d({...a,featured:m.target.checked}),className:"h-4 w-4 text-[#0A0A23] focus:ring-[#0A0A23] border-gray-300 rounded"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 block text-base text-[#0A0A23]",children:"Featured item"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-[#0A0A23] text-white rounded-md hover:bg-[#1a1a40]",children:[t?"Update":"Create"," News Item"]})]})]})},de=({calls:t=[],applicants:u=[]})=>{const[o,a]=g.useState(null),[d,f]=g.useState(!1),p=s=>s==="active"?"bg-green-100 text-green-800":s==="closed"?"bg-red-100 text-red-800":s==="upcoming"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",m=s=>{const x=new Date,b=new Date(s).getTime()-new Date(s).setMonth(new Date(s).getMonth()-3),c=x.getTime()-new Date(s).setMonth(new Date(s).getMonth()-3);return Math.min(100,Math.max(0,c/b*100))};return d?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 w-full mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-bold",children:"New Scholarship Call"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>f(!1),children:"‚úï"})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Title"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Description"}),e.jsx("textarea",{className:"w-full border rounded p-2 min-h-[120px]"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Deadline"}),e.jsx("input",{type:"date",className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Fields"}),e.jsxs("select",{multiple:!0,className:"w-full border rounded p-2",children:[e.jsx("option",{value:"healthtech",children:"HealthTech"}),e.jsx("option",{value:"foodtech",children:"FoodTech"}),e.jsx("option",{value:"energytech",children:"EnergyTech"}),e.jsx("option",{value:"fintech",children:"FinTech"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Flyer"}),e.jsx("input",{type:"file",className:"w-full border rounded p-2"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"bg-[#0A0A23] text-white px-4 py-2 rounded",children:"Create Call"}),e.jsx("button",{type:"button",className:"bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>f(!1),children:"Cancel"})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-base font-bold",children:"Scholar Funding Program Manager"}),e.jsx("button",{className:"bg-[#0A0A23] text-white px-4 py-2 rounded shadow",onClick:()=>f(!0),children:"+ New Call"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.length===0?e.jsx("div",{className:"col-span-full text-center text-gray-400 py-8",children:"No scholarship calls found."}):t.map(s=>e.jsxs("div",{className:"bg-white border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a(o===s.id?null:s.id),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-base",children:s.title}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${p(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Deadline: ",s.deadline]}),e.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:["Applicants: ",s.applicants]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${m(s.deadline)}%`}})})]},s.id))}),o&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Applicants"}),e.jsx("button",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-base",children:"Export CSV"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-base",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"p-2 text-left",children:"Name"}),e.jsx("th",{className:"p-2 text-left",children:"Field"}),e.jsx("th",{className:"p-2 text-left",children:"Contact"}),e.jsx("th",{className:"p-2 text-left",children:"Status"}),e.jsx("th",{className:"p-2 text-left",children:"CV"})]})}),e.jsx("tbody",{children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-gray-400 py-4",children:"No applicants found."})}):u.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2",children:s.name}),e.jsx("td",{className:"p-2",children:s.field}),e.jsx("td",{className:"p-2",children:s.contact}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${p(s.status)}`,children:s.status})}),e.jsx("td",{className:"p-2",children:s.cvUrl?e.jsx("button",{className:"text-blue-600 hover:underline text-xs",children:"Download"}):e.jsx("span",{className:"text-gray-400 text-xs",children:"N/A"})})]},s.id))})]})})]})]})},oe=({people:t=[]})=>{const[u,o]=g.useState(null),[a,d]=g.useState(""),f=[{id:"1",name:"Karlo Definis",role:"COO",bio:"",imageUrl:"",isPublic:!0,type:"executive"},{id:"2",name:"Ezechiel Havrenne",role:"Chair",bio:"",imageUrl:"",isPublic:!0,type:"executive"},{id:"3",name:"St√©phane Lellis",role:"Vice-Chair",bio:"",imageUrl:"",isPublic:!0,type:"executive"},{id:"4",name:"Vlado Sutlovic",role:"Treasurer",bio:"",imageUrl:"",isPublic:!0,type:"executive"}],p=t.filter(r=>r.type==="executive").length>0?t.filter(r=>r.type==="executive"):f,m=t.filter(r=>r.type==="author"),s=t.filter(r=>r.type==="commentator"),x=t.filter(r=>r.type==="researcher");return u?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 w-full mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-bold",children:"Edit Profile"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>o(null),children:"‚úï"})]}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center",children:u.imageUrl?e.jsx("img",{src:u.imageUrl,alt:"",className:"w-20 h-20 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-500 text-2xl",children:"üë§"})}),e.jsx("input",{type:"file",className:"flex-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Name"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",defaultValue:u.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Title"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",defaultValue:u.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-1",children:"Bio"}),e.jsx("textarea",{className:"w-full border rounded p-2 min-h-[120px]",value:a,onChange:r=>d(r.target.value),placeholder:"Enter biography..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"public-facing",defaultChecked:u.isPublic,className:"mr-2"}),e.jsx("label",{htmlFor:"public-facing",className:"text-base",children:"Public-facing"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"bg-[#0A0A23] text-white px-4 py-2 rounded",children:"Save"}),e.jsx("button",{type:"button",className:"bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>o(null),children:"Cancel"})]})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-base font-bold",children:"People & Contributors Management"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Executive Team"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(r=>e.jsxs("div",{className:"bg-white border rounded-lg p-4 text-center relative group cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{o(r),d(r.bio)},children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-3 flex items-center justify-center",children:r.imageUrl?e.jsx("img",{src:r.imageUrl,alt:"",className:"w-16 h-16 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-500 text-base",children:"üë§"})}),e.jsx("h4",{className:"font-semibold text-base",children:r.name}),e.jsx("p",{className:"text-xs text-gray-600",children:r.role}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-gray-400 text-base",children:"‚úèÔ∏è"})})]},r.id))})]}),e.jsx("div",{className:"space-y-4",children:[{title:"Authors",people:m,type:"author"},{title:"Commentators",people:s,type:"commentator"},{title:"Researchers",people:x,type:"researcher"}].map(({title:r,people:b,type:c})=>e.jsxs("details",{className:"bg-white border rounded-lg",children:[e.jsxs("summary",{className:"p-4 cursor-pointer font-semibold hover:bg-gray-50",children:[r," (",b.length,")"]}),e.jsx("div",{className:"p-4 border-t",children:b.length===0?e.jsxs("p",{className:"text-gray-400 text-base",children:["No ",r.toLowerCase()," found."]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:b.map(n=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>{o(n),d(n.bio)},children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:n.imageUrl?e.jsx("img",{src:n.imageUrl,alt:"",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-500 text-base",children:"üë§"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-base",children:n.name}),e.jsx("div",{className:"text-xs text-gray-600",children:n.role})]})]},n.id))})})]},c))})]})},ce=({citationData:t})=>{var c;const[u,o]=g.useState("APA"),[a,d]=g.useState(""),[f,p]=g.useState(null),m=(n,N)=>{if(!n)return"No citation data available";switch(N){case"APA":return`${n.authors.join(", ")} (${n.year}). ${n.title}. ${n.journal||"Journal"}. ${n.doi?`https://doi.org/${n.doi}`:""}`;case"MLA":return`${n.authors.join(", ")}. "${n.title}." ${n.journal||"Journal"}, ${n.year}. ${n.doi?`https://doi.org/${n.doi}`:""}`;case"Chicago":return`${n.authors.join(", ")}. "${n.title}." ${n.journal||"Journal"} ${n.year}. ${n.doi?`https://doi.org/${n.doi}`:""}`;case"BibTeX":return`@article{${n.doi||"article"},
  title={${n.title}},
  author={${n.authors.join(" and ")}},
  journal={${n.journal||"Journal"}},
  year={${n.year}},
  doi={${n.doi}},
}`;default:return"Unsupported format"}},s=n=>/^10\.\d{4,}(?:\.\d+)*\/\S+(?:\?\S+)?$/.test(n),x=n=>{d(n),p(n?s(n):null)},r=async n=>{try{await navigator.clipboard.writeText(n)}catch(N){console.error("Failed to copy text: ",N)}},b=m(t,u);return e.jsxs("div",{className:"bg-white border rounded-lg p-4 w-full",children:[e.jsx("h3",{className:"font-semibold text-base mb-4",children:"Citation & Metadata Generator"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-2",children:"Citation Format"}),e.jsxs("select",{value:u,onChange:n=>o(n.target.value),className:"w-full border rounded p-2 bg-white",children:[e.jsx("option",{value:"APA",children:"APA"}),e.jsx("option",{value:"MLA",children:"MLA"}),e.jsx("option",{value:"Chicago",children:"Chicago"}),e.jsx("option",{value:"BibTeX",children:"BibTeX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-2",children:"DOI Validator"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:a,onChange:n=>x(n.target.value),placeholder:"Enter DOI (e.g., 10.1234/example.2024.001)",className:`flex-1 border rounded p-2 ${f===!0?"border-green-500":f===!1?"border-red-500":"border-gray-300"}`}),f!==null&&e.jsx("span",{className:`px-2 py-2 rounded text-base ${f?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f?"‚úì Valid":"‚úó Invalid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium mb-2",children:"Generated Citation"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:b,readOnly:!0,className:"w-full border rounded p-3 bg-gray-50 font-mono text-base min-h-[100px] resize-none",style:{fontFamily:"monospace"}}),e.jsx("button",{onClick:()=>r(b),className:"absolute top-2 right-2 bg-[#0A0A23] text-white px-3 py-1 rounded text-xs hover:bg-[#1a1a40] transition-colors",children:"Copy"})]})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[e.jsx("h4",{className:"font-medium text-base mb-2",children:"Metadata Preview"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Title:"})," ",t.title||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Authors:"})," ",((c=t.authors)==null?void 0:c.join(", "))||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Journal:"})," ",t.journal||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Year:"})," ",t.year||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"DOI:"})," ",t.doi||"N/A"]})]})]})]})]})},xe=()=>{const[t,u]=g.useState([]),[o,a]=g.useState("all"),[d,f]=g.useState(!1),[p,m]=g.useState("");g.useEffect(()=>{u([{id:"logo-1",name:"NewTIFI Logo",type:"image",url:"/assets/images/logo.png",size:"12KB",uploadedAt:"2025-01-27",category:"branding",alt:"NewTIFI Logo"},{id:"logo-2",name:"NewTIFI Logo and Text",type:"image",url:"/assets/images/NewTiIFI Logo and Text.jpg",size:"87KB",uploadedAt:"2025-01-27",category:"branding",alt:"NewTIFI Logo with Text"},{id:"logo-3",name:"Logo JPG",type:"image",url:"/assets/images/logo.jpg",size:"63KB",uploadedAt:"2025-01-27",category:"branding",alt:"NewTIFI Logo JPG"},{id:"team-1",name:"Karlo Definis",type:"image",url:"/assets/images/team/karlo-definis.jpg",size:"140KB",uploadedAt:"2025-01-27",category:"team",alt:"Karlo Definis - Managing Partner"},{id:"team-2",name:"Delphine Filsack",type:"image",url:"/assets/images/team/delphine-filsack.jpg",size:"44KB",uploadedAt:"2025-01-27",category:"team",alt:"Delphine Filsack - Partner"},{id:"team-3",name:"Delphine Filsack Large",type:"image",url:"/assets/images/team/delphine-filsack-large.jpg",size:"44KB",uploadedAt:"2025-01-27",category:"team",alt:"Delphine Filsack - Partner (Large)"},{id:"team-4",name:"Ezechiel Havrenne",type:"image",url:"/assets/images/team/ezechiel-havrenne.jpg",size:"1.4MB",uploadedAt:"2025-01-27",category:"team",alt:"Ezechiel Havrenne - Lecturer"},{id:"team-5",name:"Vlado Sutlovic",type:"image",url:"/assets/images/team/vlado-sutlovic.jpeg",size:"209KB",uploadedAt:"2025-01-27",category:"team",alt:"Vlado Sutlovic"},{id:"location-1",name:"Luxembourg Philharmonie",type:"image",url:"/assets/images/Lux-Philharmonie.jpeg",size:"65KB",uploadedAt:"2025-01-27",category:"locations",alt:"Luxembourg Philharmonie"},{id:"tech-1",name:"Energy Tech",type:"image",url:"/images/energy-tech.jpg",size:"1.9MB",uploadedAt:"2025-01-27",category:"tech",alt:"Energy Technology"},{id:"tech-2",name:"Fin Tech",type:"image",url:"/images/fin-tech.jpg",size:"2.7MB",uploadedAt:"2025-01-27",category:"tech",alt:"Financial Technology"},{id:"tech-3",name:"Food Tech",type:"image",url:"/images/food-tech.jpg",size:"4.1MB",uploadedAt:"2025-01-27",category:"tech",alt:"Food Technology"},{id:"tech-4",name:"Health Tech",type:"image",url:"/images/health-tech.jpg",size:"2.4MB",uploadedAt:"2025-01-27",category:"tech",alt:"Health Technology"},{id:"tech-5",name:"Network Meeting",type:"image",url:"/images/network-meeting.jpg",size:"16KB",uploadedAt:"2025-01-27",category:"tech",alt:"Network Meeting"},{id:"graphic-1",name:"Grid Pattern",type:"image",url:"/assets/images/grid-pattern.svg",size:"244B",uploadedAt:"2025-01-27",category:"graphics",alt:"Grid Pattern SVG"}])},[]);const s=[{id:"all",name:"All Media",count:t.length},{id:"branding",name:"Branding",count:t.filter(c=>c.category==="branding").length},{id:"team",name:"Team Photos",count:t.filter(c=>c.category==="team").length},{id:"locations",name:"Locations",count:t.filter(c=>c.category==="locations").length},{id:"tech",name:"Technology",count:t.filter(c=>c.category==="tech").length},{id:"graphics",name:"Graphics",count:t.filter(c=>c.category==="graphics").length}],x=t.filter(c=>{var h;const n=o==="all"||c.category===o,N=c.name.toLowerCase().includes(p.toLowerCase())||((h=c.alt)==null?void 0:h.toLowerCase().includes(p.toLowerCase()));return n&&N}),r=async c=>{const n=c.target.files;if(!(!n||n.length===0)){f(!0);try{const N=new FormData;for(let j=0;j<n.length;j++)N.append("files",n[j]);const h=await fetch("/api/admin/upload-media",{method:"POST",body:N});if(h.ok){const j=await h.json();u(i=>[...i,...j]),alert("Files uploaded successfully")}else alert("Upload failed")}catch(N){console.error("Upload error:",N),alert("Upload failed")}finally{f(!1)}}},b=c=>{navigator.clipboard.writeText(c),alert("URL copied to clipboard!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0A0A23]",children:"Media Library"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search media...",value:p,onChange:c=>m(c.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0A0A23]"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:r,disabled:d,className:"hidden",id:"media-upload"}),e.jsx("label",{htmlFor:"media-upload",className:`inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-[#0A0A23] hover:bg-[#1a1a40] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0A0A23] cursor-pointer ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"Uploading...":"+ Upload Media"})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(c=>e.jsxs("button",{onClick:()=>a(c.id),className:`px-4 py-2 rounded-full text-base font-medium whitespace-nowrap ${o===c.id?"bg-[#0A0A23] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.name," (",c.count,")"]},c.id))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(c=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:c.type==="image"?e.jsx("img",{src:c.url,alt:c.alt||c.name,className:"w-full h-full object-cover",onError:n=>{const N=n.target;N.src="/placeholder.svg"}}):e.jsxs("div",{className:"text-center p-4",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-base text-gray-500",children:c.type.toUpperCase()})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[#0A0A23] mb-1 truncate",children:c.name}),e.jsxs("p",{className:"text-base text-gray-500 mb-2",children:[c.size," ‚Ä¢ ",c.uploadedAt]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>b(c.url),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200",children:"Copy URL"}),e.jsx("button",{onClick:()=>window.open(c.url,"_blank"),className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200",children:"View"})]})]})]},c.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No media found"}),e.jsx("p",{className:"text-base text-gray-500 mt-1",children:"Try adjusting your search or category filter"})]})]})},ue=()=>{const[t,u]=g.useState("home"),[o,a]=g.useState(""),[d,f]=g.useState(!1),[p,m]=g.useState(!1),s=[{id:"home",title:"Homepage",path:"/",content:"Homepage content...",lastModified:"2025-01-27",status:"published"},{id:"about",title:"About Us",path:"/who-we-are",content:"About page content...",lastModified:"2025-01-27",status:"published"},{id:"contact",title:"Contact",path:"/contact",content:"Contact page content...",lastModified:"2025-01-27",status:"published"},{id:"membership",title:"Membership",path:"/membership",content:"Membership page content...",lastModified:"2025-01-27",status:"published"}],x=async()=>{f(!0);try{await new Promise(b=>setTimeout(b,1e3)),alert("Content saved successfully!")}catch{alert("Failed to save content")}finally{f(!1)}},r=s.find(b=>b.id===t);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0A0A23]",children:"Content Editor"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(!p),className:`px-4 py-2 rounded-md text-base font-medium transition-colors ${p?"bg-[#0A0A23] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p?"Edit Mode":"Preview Mode"}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-[#0A0A23] text-white rounded-md hover:bg-[#1a1a40] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0A0A23] disabled:opacity-50",children:d?"Saving...":"Save Changes"})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-64 bg-white rounded-lg shadow p-4 h-fit",children:[e.jsx("h3",{className:"font-semibold text-[#0A0A23] mb-4",children:"Pages"}),e.jsx("div",{className:"space-y-2",children:s.map(b=>e.jsxs("button",{onClick:()=>u(b.id),className:`w-full text-left p-3 rounded-lg transition-colors ${t===b.id?"bg-[#0A0A23] text-white":"hover:bg-gray-100 text-gray-700"}`,children:[e.jsx("div",{className:"font-medium",children:b.title}),e.jsxs("div",{className:`text-xs mt-1 ${t===b.id?"text-gray-200":"text-gray-500"}`,children:[b.path," ‚Ä¢ ",b.status]})]},b.id))})]}),e.jsx("div",{className:"flex-1 bg-white rounded-lg shadow",children:r&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0A0A23] mb-2",children:r.title}),e.jsxs("div",{className:"flex items-center gap-4 text-base text-gray-500",children:[e.jsxs("span",{children:["Path: ",r.path]}),e.jsxs("span",{children:["Last modified: ",r.lastModified]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${r.status==="published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status})]})]}),p?e.jsx("div",{className:"prose max-w-none",children:e.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"text-base font-semibold text-[#0A0A23] mb-4",children:"Preview"}),e.jsx("div",{className:"bg-white p-4 rounded border",children:o||r.content})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-2",children:"Page Content"}),e.jsx("textarea",{value:o||r.content,onChange:b=>a(b.target.value),rows:20,className:"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23] focus:border-[#0A0A23] font-mono text-base",placeholder:"Enter your content here..."})]}),e.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx("button",{className:"px-3 py-1 text-base bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Bold"}),e.jsx("button",{className:"px-3 py-1 text-base bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Italic"}),e.jsx("button",{className:"px-3 py-1 text-base bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Link"}),e.jsx("button",{className:"px-3 py-1 text-base bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Image"}),e.jsx("button",{className:"px-3 py-1 text-base bg-white border border-gray-300 rounded hover:bg-gray-50",children:"List"})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0A0A23] mb-4",children:"SEO Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-2",children:"Meta Title"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23] focus:border-[#0A0A23]",placeholder:"Enter meta title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-2",children:"Meta Description"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23] focus:border-[#0A0A23]",placeholder:"Enter meta description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-2",children:"Keywords"}),e.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23] focus:border-[#0A0A23]",placeholder:"Enter keywords separated by commas..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-medium text-[#0A0A23] mb-2",children:"Canonical URL"}),e.jsx("input",{type:"url",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0A0A23] focus:border-[#0A0A23]",placeholder:"Enter canonical URL..."})]})]})]})]})},he=({data:t})=>{const[u,o]=g.useState("7d"),[a,d]=g.useState("all"),f=[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"},{value:"1y",label:"Last year"}],p=[{value:"all",label:"All Content"},{value:"journals",label:"Journals"},{value:"commentary",label:"Legal Commentary"},{value:"news",label:"News"}],m=()=>{console.log("Exporting CSV...")};return e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("div",{className:"w-64 bg-white border rounded-lg p-4 h-fit",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Filters"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-base font-medium mb-2",children:"Timeframe"}),e.jsx("div",{className:"space-y-2",children:f.map(s=>e.jsx("button",{onClick:()=>o(s.value),className:`w-full text-left px-3 py-2 rounded text-base transition-colors ${u===s.value?"bg-[#0A0A23] text-white":"hover:bg-gray-100"}`,children:s.label},s.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-base font-medium mb-2",children:"Content Type"}),e.jsx("div",{className:"space-y-2",children:p.map(s=>e.jsx("button",{onClick:()=>d(s.value),className:`w-full text-left px-3 py-2 rounded text-base transition-colors ${a===s.value?"bg-[#0A0A23] text-white":"hover:bg-gray-100"}`,children:s.label},s.value))})]}),e.jsx("button",{onClick:m,className:"w-full bg-[#00C2CB] text-white px-4 py-2 rounded shadow hover:bg-[#00a8b3] transition-colors",children:"Export CSV"})]}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-base font-bold",children:"Analytics Dashboard"}),e.jsxs("div",{className:"text-base text-gray-500",children:["Last updated: ",new Date().toLocaleDateString()]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(t==null?void 0:t.totalDownloads)||0}),e.jsx("div",{className:"text-base text-gray-600",children:"Journal Downloads"})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(t==null?void 0:t.totalViews)||0}),e.jsx("div",{className:"text-base text-gray-600",children:"Page Views"})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.totalArticles)||0}),e.jsx("div",{className:"text-base text-gray-600",children:"Applications"})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(t==null?void 0:t.totalViews)||0}),e.jsx("div",{className:"text-base text-gray-600",children:"Commentary Views"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Journal PDF Downloads"}),t!=null&&t.monthlyStats&&t.monthlyStats.length>0?e.jsx("div",{className:"space-y-2",children:t.monthlyStats.map((s,x)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-20 text-base text-gray-600",children:s.name}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,s.value/Math.max(...t.monthlyStats.map(r=>r.value))*100)}%`}})}),e.jsx("div",{className:"w-12 text-base text-right",children:s.value})]},x))}):e.jsx("div",{className:"text-center text-gray-400 py-8",children:"No download data available."})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Most Viewed Pages"}),t!=null&&t.categoryStats&&t.categoryStats.length>0?e.jsx("div",{className:"space-y-3",children:t.categoryStats.slice(0,5).map((s,x)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-base truncate flex-1",children:s.name}),e.jsx("div",{className:"text-base font-medium text-gray-600",children:s.value})]},x))}):e.jsx("div",{className:"text-center text-gray-400 py-8",children:"No page view data available."})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Scholarship Applications by Source"}),t!=null&&t.categoryStats&&t.categoryStats.length>0?e.jsx("div",{className:"space-y-3",children:t.categoryStats.map((s,x)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-base",children:s.name}),e.jsx("div",{className:"text-base font-medium text-gray-600",children:s.value})]},x))}):e.jsx("div",{className:"text-center text-gray-400 py-8",children:"No application data available."})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Legal Commentary View Count"}),t!=null&&t.categoryStats&&t.categoryStats.length>0?e.jsx("div",{className:"space-y-3",children:t.categoryStats.slice(0,5).map((s,x)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-base truncate flex-1",children:s.name}),e.jsx("div",{className:"text-base font-medium text-gray-600",children:s.value})]},x))}):e.jsx("div",{className:"text-center text-gray-400 py-8",children:"No commentary view data available."})]})]})]})]})},be=()=>{var l;const[t,u]=g.useState(!1),[o,a]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(!1),[s,x]=g.useState("dashboard"),[r,b]=g.useState([]),[c,n]=g.useState([]),[N,h]=g.useState({totalViews:0,totalArticles:0,totalJournals:0,monthlyViews:[0,0,0,0,0,0,0,0,0,0,0,0]}),{toast:j}=z(),i=[{id:"dashboard",label:"Dashboard",icon:H,component:ee},{id:"journal",label:"Article Collating Tool",icon:B,component:te},{id:"legal",label:"Legal Commentary",icon:G,component:se},{id:"news",label:"News & Events",icon:K,component:re},{id:"scholarship",label:"Scholarship Program",icon:O,component:de},{id:"people",label:"People & Contributors",icon:X,component:oe},{id:"citation",label:"Citation Generator",icon:q,component:ce},{id:"media",label:"Media Library",icon:J,component:xe},{id:"content",label:"Content Editor",icon:W,component:ue},{id:"analytics",label:"Analytics",icon:_,component:he}],A=async y=>{y.preventDefault(),m(!0);try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:d})})).ok?(u(!0),j({title:"Login successful",description:"Welcome to the admin panel"}),k()):j({title:"Login failed",description:"Invalid credentials",variant:"destructive"})}catch{j({title:"Login failed",description:"Network error. Please try again.",variant:"destructive"})}finally{m(!1)}},C=()=>{u(!1),a(""),f(""),j({title:"Logged out",description:"You have been logged out successfully"})},k=async()=>{try{const y=await fetch("/api/admin/articles");if(y.ok){const S=await y.json();b(S)}const v=await fetch("/api/admin/journals");if(v.ok){const S=await v.json();n(S)}const w=await fetch("/api/admin/analytics");if(w.ok){const S=await w.json();h({totalViews:S.totalViews,totalArticles:S.totalArticles,totalJournals:S.totalJournals,monthlyViews:S.monthlyViews})}}catch(y){console.error("Error loading data:",y),j({title:"Error",description:"Failed to load data",variant:"destructive"})}},M=()=>{const y=i.find(w=>w.id===s);if(!y)return null;const v=y.component;switch(y.id){case"dashboard":return e.jsx(v,{analytics:N,activityLog:[]});case"journal":return e.jsx(v,{articles:r,onRefresh:k});case"legal":return e.jsx(v,{});case"news":return e.jsx(v,{});case"scholarship":return e.jsx(v,{});case"people":return e.jsx(v,{});case"citation":return e.jsx(v,{});case"media":return e.jsx(v,{});case"content":return e.jsx(v,{});case"analytics":return e.jsx(v,{});default:return e.jsx(v,{})}};return t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"NewTIFI Admin"}),e.jsx("div",{className:"text-base text-gray-500",children:(l=i.find(y=>y.id===s))==null?void 0:l.label})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-base text-gray-600",children:"Admin User"}),e.jsx(T,{onClick:C,variant:"outline",size:"sm",children:"Logout"})]})]})})}),e.jsx("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex space-x-6",children:[e.jsx("div",{className:"w-64 bg-white rounded-lg shadow p-4 h-fit",children:e.jsx("nav",{className:"space-y-2",children:i.map(y=>{const v=y.icon;return e.jsxs("button",{onClick:()=>x(y.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded text-base transition-colors ${s===y.id?"bg-[#0A0A23] text-white":"hover:bg-gray-100 text-gray-700"}`,children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:y.label})]},y.id)})})}),e.jsx("div",{className:"flex-1",children:M()})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-2xl font-extrabold text-gray-900",children:"NewTIFI Admin"}),e.jsx("p",{className:"mt-2 text-center text-base text-gray-600",children:"Sign in to access the administration panel"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:A,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx(P,{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx(D,{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-base",placeholder:"Email address",value:o,onChange:y=>a(y.target.value)})]}),e.jsxs("div",{children:[e.jsx(P,{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx(D,{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-base",placeholder:"Password",value:d,onChange:y=>f(y.target.value)})]})]}),e.jsx("div",{children:e.jsx(T,{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-base font-medium rounded-md text-white bg-[#0A0A23] hover:bg-[#1a1a40] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:p?"Signing in...":"Sign in"})})]})]})})};export{be as default};
//# sourceMappingURL=Admin-CzSV-r51.js.map
