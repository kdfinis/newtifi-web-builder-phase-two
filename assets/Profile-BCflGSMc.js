import{u as N,j as e,S as f,A as k,H as C,f as S}from"./index-CaHgnsmu.js";import{r as n,L as i}from"./vendor-BFmVx08M.js";import{U as g}from"./user-BvxsguT_.js";import{F as D}from"./file-text-BXQztFf1.js";import{S as E}from"./settings-BKbwrYs2.js";import{S as F}from"./save-CyxDM6Gd.js";function U(){var b,p;const{user:t,isAuthenticated:y}=N(),[a,x]=n.useState({name:"",bio:"",organization:"",title:"",department:"",phone:"",website:"",linkedin:"",twitter:"",researchInterests:"",expertise:"",location:"",timezone:""}),[m,h]=n.useState(!1),[j,o]=n.useState(!1),[u,d]=n.useState("");n.useEffect(()=>{t&&x({name:t.name||"",bio:t.bio||"",organization:t.organization||"",title:t.title||"",department:t.department||"",phone:t.phone||"",website:t.website||"",linkedin:t.linkedin||"",twitter:t.twitter||"",researchInterests:t.researchInterests||"",expertise:t.expertise||"",location:t.location||"",timezone:t.timezone||""})},[t]);const w=async s=>{s.preventDefault(),h(!0),d("");try{const l=await fetch(S("/me"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!l.ok){const v=await l.json();throw new Error(v.error||"Failed to save profile")}const c=await l.json();o(!0),d(""),setTimeout(()=>o(!1),3e3),window.dispatchEvent(new CustomEvent("userUpdated",{detail:c})),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("authStateChanged"))}catch(l){const c=l instanceof Error?l.message:"Failed to save profile. Please try again.";d(c),o(!1)}finally{h(!1)}},r=s=>{x(l=>({...l,[s.target.name]:s.target.value}))};return y?e.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[e.jsxs("section",{className:"relative px-6 py-32 bg-gradient-to-br from-newtifi-navy via-newtifi-navy/95 to-newtifi-teal/20 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.05%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-30"}),e.jsx("div",{className:"absolute top-20 right-20 w-32 h-32 border border-white/10 rounded-full"}),e.jsx("div",{className:"absolute bottom-20 left-20 w-24 h-24 bg-newtifi-teal/10 rounded-full"}),e.jsx("div",{className:"absolute top-1/2 left-10 w-16 h-16 border border-white/10 transform rotate-45"}),e.jsx("div",{className:"container mx-auto relative",children:e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[e.jsx(i,{to:"/dashboard",className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-all",children:e.jsx(k,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-2xl md:text-2xl font-light",children:"Profile Settings"})]}),e.jsx("div",{className:"mb-10",children:e.jsxs("h2",{className:"text-2xl md:text-4xl lg:text-4xl font-extralight tracking-wider leading-tight uppercase",children:["Manage Your ",e.jsx("span",{className:"text-newtifi-teal",children:"Profile"})]})}),e.jsx("p",{className:"text-base md:text-base leading-relaxed text-white/90 font-light",children:"Update your personal information and preferences"})]})})]}),e.jsx("section",{className:"w-full bg-white border-b border-gray-200",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("nav",{className:"flex items-center space-x-1 py-3",children:[e.jsxs(i,{to:"/dashboard",className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-newtifi-navy hover:bg-gray-50 rounded-lg transition-all",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs(i,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-newtifi-navy bg-newtifi-teal/10 rounded-lg",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(i,{to:"/apply-contributor",className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-newtifi-navy hover:bg-gray-50 rounded-lg transition-all",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Apply Contributor"})]}),(t==null?void 0:t.role)==="ADMIN"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs(i,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-newtifi-navy hover:bg-gray-50 rounded-lg transition-all",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Admin"})]})]})]})})}),e.jsx("section",{className:"w-full bg-white py-8",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs(f,{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-newtifi-navy mb-2",children:"Profile Information"}),e.jsx("div",{className:"w-full h-1 bg-newtifi-navy rounded mb-4"}),e.jsx("h3",{className:"text-lg text-newtifi-teal font-semibold mb-6",children:"Update your account details"}),e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-newtifi-teal/10 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"h-10 w-10 text-newtifi-teal"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Picture"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Avatar upload coming soon"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",value:a.bio,onChange:r,rows:4,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent min-h-[150px] transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Tell us about yourself..."})]}),(t==null?void 0:t.hasLinkedInAuth)&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"#0077B5",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.036-1.85-3.036-1.853 0-2.136 1.446-2.136 2.941v5.664H9.354V9h3.414v1.561h.049c.476-.9 1.637-1.85 3.368-1.85 3.602 0 4.268 2.37 4.268 5.455v6.286zM5.337 7.433a2.062 2.062 0 11.001-4.124 2.062 2.062 0 01-.001 4.124zM7.114 20.452H3.56V9h3.554v11.452z"})}),"LinkedIn Profile"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.headline&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Headline"}),e.jsx("p",{className:"text-blue-700",children:t.headline})]}),t.location&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Location"}),e.jsxs("p",{className:"text-blue-700",children:[t.location.name,", ",t.location.country]})]}),t.industry&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Industry"}),e.jsx("p",{className:"text-blue-700",children:t.industry})]}),t.positions&&t.positions.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Current Position"}),e.jsxs("p",{className:"text-blue-700",children:[t.positions[0].title," at ",t.positions[0].companyName]})]}),t.numConnections&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Connections"}),e.jsxs("p",{className:"text-blue-700",children:[t.numConnections.toLocaleString()," connections"]})]})]}),t.skills&&t.skills.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Skills"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.skills.slice(0,10).map((s,l)=>e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[s.name," ",s.endorsements&&`(${s.endorsements})`]},l)),t.skills.length>10&&e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:["+",t.skills.length-10," more"]})]})]}),t.positions&&t.positions.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Recent Experience"}),e.jsx("div",{className:"space-y-2",children:t.positions.slice(0,3).map((s,l)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"font-medium text-blue-900",children:s.title}),e.jsx("p",{className:"text-blue-700",children:s.companyName}),e.jsxs("p",{className:"text-blue-600 text-sm",children:[s.startDate&&`${s.startDate.year}`,s.endDate?` - ${s.endDate.year}`:" - Present"]}),s.description&&e.jsx("p",{className:"text-blue-600 text-sm mt-1",children:s.description})]},l))})]}),t.educations&&t.educations.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Education"}),e.jsx("div",{className:"space-y-2",children:t.educations.slice(0,2).map((s,l)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[e.jsxs("p",{className:"font-medium text-blue-900",children:[s.degreeName," ",s.fieldOfStudy&&`in ${s.fieldOfStudy}`]}),e.jsx("p",{className:"text-blue-700",children:s.schoolName}),e.jsx("p",{className:"text-blue-600 text-sm",children:s.startDate&&s.endDate?`${s.startDate.year} - ${s.endDate.year}`:s.startDate?`${s.startDate.year}`:""})]},l))})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",id:"organization",name:"organization",value:a.organization,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Your company or institution"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-gray-50 text-gray-500 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),e.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Your professional title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),e.jsx("input",{type:"text",id:"department",name:"department",value:a.department,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Your department or division"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Your contact number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",id:"website",name:"website",value:a.website,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"https://your-website.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"linkedin",className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Profile"}),e.jsx("input",{type:"url",id:"linkedin",name:"linkedin",value:a.linkedin,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"https://linkedin.com/in/yourprofile"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"twitter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter/X Handle"}),e.jsx("input",{type:"text",id:"twitter",name:"twitter",value:a.twitter,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"@yourusername"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"researchInterests",className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Interests"}),e.jsx("textarea",{id:"researchInterests",name:"researchInterests",value:a.researchInterests,onChange:r,rows:3,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Your research areas and interests"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"expertise",className:"block text-sm font-medium text-gray-700 mb-2",children:"Areas of Expertise"}),e.jsx("textarea",{id:"expertise",name:"expertise",value:a.expertise,onChange:r,rows:3,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"Your professional expertise and specializations"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",id:"location",name:"location",value:a.location,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"City, Country"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),e.jsx("input",{type:"text",id:"timezone",name:"timezone",value:a.timezone,onChange:r,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-white focus:ring-2 focus:ring-newtifi-teal focus:border-transparent transition-all text-newtifi-navy placeholder:text-gray-500",placeholder:"e.g., UTC+1, EST, PST"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsx("input",{type:"text",value:((b=t==null?void 0:t.role)==null?void 0:b.charAt(0).toUpperCase())+((p=t==null?void 0:t.role)==null?void 0:p.slice(1).toLowerCase())||"",disabled:!0,className:"w-full px-5 py-4 border border-gray-300 rounded-2xl bg-gray-50 text-gray-500 cursor-not-allowed"})]}),u&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-700 text-sm",children:u})}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-8 py-3 bg-gradient-to-r from-newtifi-navy to-newtifi-teal text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"h-4 w-4"}),"Save Changes"]})}),j&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"Saved successfully!"})]})]})]}),e.jsxs("div",{className:"mt-12 p-6 bg-gray-50 rounded-2xl border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"More Features Coming Soon"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:"• Profile picture upload"}),e.jsx("p",{children:"• Social media links"}),e.jsx("p",{children:"• Notification preferences"}),e.jsx("p",{children:"• Password change"}),e.jsx("p",{children:"• Two-factor authentication"})]})]})]})]})})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in"}),e.jsx(i,{to:"/login",className:"text-newtifi-teal hover:underline",children:"Go to login page"})]})})}export{U as default};
//# sourceMappingURL=Profile-BCflGSMc.js.map
