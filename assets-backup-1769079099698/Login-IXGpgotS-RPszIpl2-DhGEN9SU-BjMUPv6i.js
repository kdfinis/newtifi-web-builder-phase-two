import{i as I,b as o,s as e,j as k,L as E}from"./index-BHB10gxo.js";var z=Object.defineProperty,P=(d,t,n)=>t in d?z(d,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[t]=n,w=(d,t,n)=>P(d,typeof t!="symbol"?t+"":t,n);const b=class u{constructor(){w(this,"isInitialized",!1)}static getInstance(){return u.instance||(u.instance=new u),u.instance}async initialize(){if(!this.isInitialized)return new Promise((t,n)=>{const a=document.createElement("script");a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,a.onload=()=>{window.google?(window.google.accounts.id.initialize({client_id:"194507073097-ocntv6b6bou3v4m334tr637pjq2d8702.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this),auto_select:!1,cancel_on_tap_outside:!0}),this.isInitialized=!0,t()):n(new Error("Google Identity Services failed to load"))},a.onerror=()=>n(new Error("Failed to load Google Identity Services")),document.head.appendChild(a)})}handleCredentialResponse(t){console.log("Google OAuth response:",t);const n=JSON.parse(atob(t.credential.split(".")[1])),a={id:n.sub,email:n.email,name:n.name,avatarUrl:n.picture,provider:"google",loginTime:new Date().toISOString()};localStorage.setItem("newtifi_user",JSON.stringify(a)),localStorage.setItem("newtifi_auth","true"),window.dispatchEvent(new CustomEvent("authStateChanged")),window.location.href="/dashboard?auth=success&provider=google"}renderButton(t){if(!this.isInitialized){console.error("GoogleAuth not initialized");return}window.google.accounts.id.renderButton(document.getElementById(t),{theme:"outline",size:"large",text:"continue_with",shape:"rectangular",logo_alignment:"left"})}async signIn(){this.isInitialized||await this.initialize(),window.google.accounts.id.prompt()}};w(b,"instance");let _=b;function L(){const{isAuthenticated:d}=I(),[t,n]=o.useState("login"),[a,p]=o.useState(""),[g,v]=o.useState(""),[h,y]=o.useState(""),[m,j]=o.useState(""),[c,l]=o.useState(!1),[x,s]=o.useState("");if(o.useEffect(()=>{(async()=>{try{await _.getInstance().initialize()}catch(i){console.error("Failed to initialize Google Auth:",i)}})()},[]),o.useEffect(()=>{const i=new URLSearchParams(window.location.search),r=i.get("error"),f=i.get("message");r==="google_not_configured"?s("Google OAuth is not configured. Please use LinkedIn login or email/password."):r==="google_auth_failed"?s("Google authentication failed. Please try again or use LinkedIn login."):r==="linkedin_auth_failed"?s("LinkedIn authentication failed. Please try again or use Google login."):f&&s(decodeURIComponent(f))},[]),d)return window.location.href="/dashboard",null;const N=async()=>{try{s(""),l(!0);const i=k();window.location.href=i}catch(i){console.error("Google sign-in error:",i),s("Google sign-in failed. Please try again."),l(!1)}},S=async()=>{try{s(""),l(!0);const i=window.location.origin+"/auth/linkedin/callback",r="linkedin_auth_"+Math.random().toString(36).substring(7);sessionStorage.setItem("linkedin_state",r);const f=E(i,r);window.location.href=f}catch(i){console.error("LinkedIn sign-in error:",i),s("LinkedIn sign-in failed. Please try again."),l(!1)}},C=async i=>{i.preventDefault(),l(!0),s("");try{if(t==="login"){if(!a||!g){s("Please enter both email and password"),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){s("Please enter a valid email address"),l(!1);return}if(g.length<6){s("Password must be at least 6 characters long"),l(!1);return}const r={id:a.toLowerCase(),email:a.toLowerCase(),name:a.split("@")[0]||"User",provider:"password",loginTime:new Date().toISOString(),hasPasswordAuth:!0};localStorage.setItem("newtifi_user",JSON.stringify(r)),localStorage.setItem("newtifi_auth","true"),window.dispatchEvent(new CustomEvent("authStateChanged")),window.location.href="/dashboard?auth=success&provider=password"}else{if(!a||!g||!h||!m){s("Please fill in all fields"),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){s("Please enter a valid email address"),l(!1);return}if(g.length<6){s("Password must be at least 6 characters long"),l(!1);return}if(h.length<2||m.length<2){s("First and last name must be at least 2 characters long"),l(!1);return}const r={id:a.toLowerCase(),email:a.toLowerCase(),name:`${h} ${m}`.trim(),provider:"password",loginTime:new Date().toISOString(),hasPasswordAuth:!0};localStorage.setItem("newtifi_user",JSON.stringify(r)),localStorage.setItem("newtifi_auth","true"),window.dispatchEvent(new CustomEvent("authStateChanged")),window.location.href="/dashboard?auth=success&provider=password"}}catch(r){s(r instanceof Error?r.message:"Login failed. Please try again."),l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-newtifi-teal via-newtifi-navy to-indigo-900 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.03%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-20"}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center text-white p-12",children:[e.jsxs("div",{className:"text-center max-w-sm",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Welcome to NewTIFI"}),e.jsx("p",{className:"text-lg mb-6 text-blue-100 leading-relaxed",children:"Shaping the Future of Technology through Innovation and Regulation"}),e.jsx("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:e.jsx("p",{className:"text-xs text-blue-50 leading-relaxed",children:"Join our community of technology leaders, investors, and innovators working together to build a better future."})})]}),e.jsx("div",{className:"mt-6 max-w-sm",children:e.jsx("img",{src:"/images/uploads/luxembourg-skyline-golden-hour.jpg",alt:"Luxembourg Skyline",className:"w-full h-32 object-cover rounded-lg shadow-xl border border-white/20"})}),e.jsx("div",{className:"mt-4 max-w-xs",children:e.jsx("img",{src:"/assets/images/logo.png",alt:"NewTIFI Logo",className:"w-full h-auto drop-shadow-lg"})})]})]}),e.jsx("div",{className:"w-full lg:w-3/5 flex items-center justify-center p-6 lg:p-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:t==="login"?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-gray-600 text-lg",children:t==="login"?"Sign in to your NewTIFI account":"Join the NewTIFI community"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Choose a sign-in option. You can use LinkedIn for a quick, secure login, or sign in with your email and password below."}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("button",{onClick:N,disabled:c,className:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl hover:border-gray-300 hover:bg-gray-50 text-gray-700 text-left text-base flex items-center gap-3 disabled:opacity-50 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsxs("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("path",{fill:"#EA4335",d:"M12 10.2v3.6h5.1c-.2 1.2-1.5 3.6-5.1 3.6-3.1 0-5.7-2.6-5.7-5.7S8.9 6 12 6c1.8 0 3 .8 3.7 1.5l2.5-2.5C16.8 3.8 14.7 3 12 3 6.9 3 2.7 7.2 2.7 12.3S6.9 21.6 12 21.6c6.9 0 9.3-4.8 9.3-7.2 0-.5 0-1-.1-1.2H12z"}),e.jsx("path",{fill:"#34A853",d:"M3.9 7.4l3 2.2C7.7 8 9.7 6.6 12 6.6c1.8 0 3 .8 3.7 1.5l2.5-2.5C16.8 3.8 14.7 3 12 3 8.6 3 5.6 4.9 3.9 7.4z"}),e.jsx("path",{fill:"#FBBC05",d:"M12 21.6c3.2 0 5.9-1.1 7.9-3.1l-3.3-2.7c-1 .7-2.3 1.2-4.6 1.2-3.6 0-6.7-2.4-7.7-5.7l-3.3 2.6C3.8 18.7 7.6 21.6 12 21.6z"}),e.jsx("path",{fill:"#4285F4",d:"M21.3 14.4c.1-.5.1-1 .1-1.6 0-.6 0-1.1-.1-1.6H12v3.2h9.3z"})]}),e.jsx("span",{className:"font-medium",children:c?"Redirecting...":"Continue with Google"})]}),e.jsxs("button",{onClick:S,disabled:c,className:"w-full px-6 py-4 rounded-2xl bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 text-left text-base flex items-center gap-3 disabled:opacity-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fill:"currentColor",d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.036-1.85-3.036-1.853 0-2.136 1.446-2.136 2.941v5.664H9.354V9h3.414v1.561h.049c.476-.9 1.637-1.85 3.368-1.85 3.602 0 4.268 2.37 4.268 5.455v6.286zM5.337 7.433a2.062 2.062 0 11.001-4.124 2.062 2.062 0 01-.001 4.124zM7.114 20.452H3.56V9h3.554v11.452z"})}),e.jsx("span",{className:"font-medium",children:c?"Redirecting...":"Continue with LinkedIn"})]})]}),e.jsxs("div",{className:"relative my-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-5",children:[t==="signup"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{id:"firstName",type:"text",value:h,onChange:i=>y(i.target.value),required:t==="signup",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-newtifi-teal focus:border-newtifi-teal transition-colors bg-white/70",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{id:"lastName",type:"text",value:m,onChange:i=>j(i.target.value),required:t==="signup",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-newtifi-teal focus:border-newtifi-teal transition-colors bg-white/70",placeholder:"Doe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:a,onChange:i=>p(i.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-newtifi-teal focus:border-newtifi-teal transition-colors bg-white/70",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:g,onChange:i=>v(i.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-newtifi-teal focus:border-newtifi-teal transition-colors bg-white/70",placeholder:""})]}),t==="login"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-newtifi-teal focus:ring-newtifi-teal border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 font-medium",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"/forgot-password",className:"font-semibold text-newtifi-teal hover:text-newtifi-navy transition-colors",children:"Forgot password?"})})]}),x&&e.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-4 rounded-xl border border-red-200",children:x}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-newtifi-teal to-newtifi-navy text-white py-4 px-6 rounded-xl hover:from-newtifi-navy hover:to-newtifi-teal focus:ring-2 focus:ring-newtifi-teal focus:ring-offset-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?"Please wait...":t==="login"?"Sign In":"Create Account"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[t==="login"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{onClick:()=>n(t==="login"?"signup":"login"),className:"font-semibold text-newtifi-teal hover:text-newtifi-navy transition-colors",children:t==="login"?"Sign up":"Sign in"})]})})]})})]})})]})})}export{L as default};
//# sourceMappingURL=Login-IXGpgotS-RPszIpl2-DhGEN9SU-BjMUPv6i.js.map
